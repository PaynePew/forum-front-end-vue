(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0c8d68"],{"571a":function(t,a,r){"use strict";r.r(a);var s=function(){var t=this,a=t.$createElement,r=t._self._c||a;return r("div",{staticClass:"container py-5"},[r("NavTabs"),r("h1",{staticClass:"mt-5"},[t._v("人氣餐廳")]),r("hr"),r("div",{staticClass:"card mb-3",staticStyle:{"max-width":"540px",margin:"auto"}},t._l(t.restaurants,(function(a){return r("div",{key:a.id,staticClass:"row no-gutters"},[r("div",{staticClass:"col-md-4"},[r("a",{attrs:{href:"#"}},[r("img",{staticClass:"card-img",attrs:{src:a.image}})])]),r("div",{staticClass:"col-md-8"},[r("div",{staticClass:"card-body"},[r("h5",{staticClass:"card-title"},[t._v(t._s(a.name))]),r("span",{staticClass:"badge bg-secondary"},[t._v("收藏數："+t._s(a.FavoriteCount))]),r("p",{staticClass:"card-text"},[t._v(" "+t._s(a.description)+" ")]),r("router-link",{staticClass:"btn btn-primary me-2",attrs:{to:{name:"restaurant-dashboard",params:{id:a.id}},href:"#"}},[t._v("Dashboard")]),a.isFavorited?r("button",{staticClass:"btn btn-danger me-2",attrs:{type:"button"},on:{click:function(r){return r.stopPropagation(),r.preventDefault(),t.deleteFavorite(a.id)}}},[t._v(" 移除最愛 ")]):r("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(r){return r.stopPropagation(),r.preventDefault(),t.addFavorite(a.id)}}},[t._v(" 加到最愛 ")])],1)])])})),0)],1)},e=[],n=r("1da1"),i=(r("d3b7"),r("159b"),r("96cf"),r("8bb1")),c=r("c4c3"),o=r("2fa3"),u={components:{NavTabs:i["a"]},data:function(){return{restaurants:[]}},created:function(){this.fetchRestaurants()},methods:{fetchRestaurants:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){var r,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,c["a"].getTopRestaurants();case 3:r=a.sent,s=r.data,t.restaurants=s.restaurants,a.next=12;break;case 8:a.prev=8,a.t0=a["catch"](0),console.log(a.t0),o["a"].fire({icon:"error",title:"無法取得人氣餐廳，請稍後再試"});case 12:case"end":return a.stop()}}),a,null,[[0,8]])})))()},addFavorite:function(t){this.restaurants.forEach((function(a){return a.id===t?a.isFavorited=!0:a}))},deleteFavorite:function(t){this.restaurants.forEach((function(a){return a.id===t?a.isFavorited=!1:a}))}}},d=u,l=r("2877"),v=Object(l["a"])(d,s,e,!1,null,null,null);a["default"]=v.exports}}]);
//# sourceMappingURL=chunk-2d0c8d68.1c647939.js.map